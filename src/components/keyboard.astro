---

---

<a href="/" id="home-link" hidden></a>
<a href="/about" id="about-link" hidden></a>
<a href="/syndications" id="syndications-link" hidden></a>
<a href="/notes" id="notes-link" hidden></a>
<a href="/photos" id="photos-link" hidden></a>

<script>
  document.addEventListener("keydown", (e) => {
    if (e.ctrlKey || e.metaKey || e.altKey) return;

    // don't hijack typing in form fields
    const tag = (e.target as HTMLElement)?.tagName;
    if (tag === "INPUT" || tag === "TEXTAREA" || tag === "SELECT") return;
    if ((e.target as HTMLElement)?.isContentEditable) return;

    const scrollAmount = Math.round(window.innerHeight * 0.15);

    const routes: Record<"h" | "~" | "a" | "s" | "n" | "p", string> = {
      h: "home-link",
      "~": "home-link",
      a: "about-link",
      s: "syndications-link",
      n: "notes-link",
      p: "photos-link",
    };

    if (e.key in routes) {
      const linkId = routes[e.key as keyof typeof routes];
      const link = document.getElementById(linkId);
      if (link) link.click();
      return;
    }

    switch (e.key) {
      case "j":
        window.scrollBy({ top: scrollAmount, behavior: "smooth" });
        break;

      case "k":
        window.scrollBy({ top: -scrollAmount, behavior: "smooth" });
        break;

      case "t":
        const root = document.documentElement;
        const currentTheme = localStorage.getItem("theme") || "system";

        // Cycle: system → dark → light → system
        if (currentTheme === "system") {
          root.classList.add("dark");
          localStorage.setItem("theme", "dark");
        } else if (currentTheme === "dark") {
          root.classList.remove("dark");
          root.classList.add("light");
          localStorage.setItem("theme", "light");
        } else {
          // light → back to system
          root.classList.remove("light");
          localStorage.setItem("theme", "system");
        }
        break;

      case "g":
        window.scrollTo({ top: 0, behavior: "smooth" });
        break;

      case "G":
        window.scrollTo({
          top: document.body.scrollHeight,
          behavior: "smooth",
        });
        break;
    }
  });
</script>
